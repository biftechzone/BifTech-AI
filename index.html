
 <!-- OWNER; +923495178663-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E3-HACKER</title>
</head>
<body>
    <script>
        // The encrypted string is injected here:
        let encrypted = "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICAgIDxsaW5rIHJlbD0iaWNvbiIgaHJlZj0iaHR0cHM6Ly9pbWcuaWNvbnM4LmNvbS9ub2xhbi82NC9hcnRpZmljaWFsLWludGVsbGlnZW5jZS5wbmciIHR5cGU9ImltYWdlL3BuZyI+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzP3JlbmRlcj02TGQ0blJ3ckFBQUFBUDZkaE5GVERzTHIzQVJNZ0RmYW1sWEh3bjF2IiBhc3luYyBkZWZlcj48L3NjcmlwdD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KICAgIDx0aXRsZT5FMy1IQUNLRVIgQWktIEdlbmVyYXRlIFN0dW5uaW5nIEFJIEFydCBJbWFnZXMgZm9yIEZyZWU8L3RpdGxlPgogICAgPG1ldGEgbmFtZT0iZGVzY3JpcHRpb24iIGNvbnRlbnQ9IkNyZWF0ZSBiZWF1dGlmdWwgQUktZ2VuZXJhdGVkIGFydCB3aXRoIFJlZC1YIEFJLiBUcmFuc2Zvcm0geW91ciB0ZXh0IHByb21wdHMgaW50byBzdHVubmluZyB2aXN1YWxzIHdpdGggb3VyIGZyZWUgQUkgaW1hZ2UgZ2VuZXJhdG9yLiI+CiAgICA8bWV0YSBuYW1lPSJrZXl3b3JkcyIgY29udGVudD0iQUkgaW1hZ2UgZ2VuZXJhdG9yLCBBSSBhcnQsIHRleHQgdG8gaW1hZ2UsIEFJIGNyZWF0b3IsIGRpZ2l0YWwgYXJ0Ij4KICAgIDxtZXRhIG5hbWU9ImF1dGhvciIgY29udGVudD0iUmVkLVggQUkiPgogICAgPGxpbmsgcmVsPSJwcmVsb2FkIiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mb250LWF3ZXNvbWUvNi40LjAvY3NzL2FsbC5taW4uY3NzIiBhcz0ic3R5bGUiIG9ubG9hZD0idGhpcy5vbmxvYWQ9bnVsbDt0aGlzLnJlbD0nc3R5bGVzaGVldCciPgogICAgPG5vc2NyaXB0PjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzYuNC4wL2Nzcy9hbGwubWluLmNzcyI+PC9ub3NjcmlwdD4KICAgIDxsaW5rIGhyZWY9IndnaHRAMzAwOzQwMDs1MDA7NjAwOzcwMCZmYW1pbHk9U3BhY2UrR3JvdGVzazp3Z2h0QDQwMDs1MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAiPiAKICAgIDxub3NjcmlwdD48bGluayBocmVmPSJ3Z2h0QDMwMDs0MDA7NTAwOzYwMDs3MDAmZmFtaWx5PVNwYWNlK0dyb3Rlc2s6d2dodEA0MDA7NTAwOzYwMDs3MDAmZGlzcGxheT1zd2FwIj5odHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUludGVyOndnaHRAMzAwOzQwMDs1MDA7NjAwOzcwMCZmYW1pbHk9U3BhY2UrR3JvdGVzazp3Z2h0QDQwMDs1MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCI+PC9ub3NjcmlwdD4KICAgIDxzdHlsZT4KICAgICAgICA6cm9vdCB7CiAgICAgICAgICAgIC0tcHJpbWFyeTogIzZFNTZDRjsKICAgICAgICAgICAgLS1wcmltYXJ5LWxpZ2h0OiAjOEE3NEREOwogICAgICAgICAgICAtLXByaW1hcnktZGFyazogIzRGM0FBMzsKICAgICAgICAgICAgLS1hY2NlbnQ6ICMwMEM0QTM7CiAgICAgICAgICAgIC0tYmc6ICMwRjBGMUE7CiAgICAgICAgICAgIC0tY2FyZDogIzFBMUEyRTsKICAgICAgICAgICAgLS1jYXJkLWxpZ2h0OiAjMjQyNDNEOwogICAgICAgICAgICAtLXRleHQ6ICNGNUY1RkY7CiAgICAgICAgICAgIC0tdGV4dC1saWdodDogI0IwQjBEMDsKICAgICAgICAgICAgLS1ib3JkZXI6ICMzQTNBNUE7CiAgICAgICAgICAgIC0tc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDAsIDAsIDAsIDAuNCk7CiAgICAgICAgICAgIC0tbmVvbi1nbG93OiAwIDAgMjBweCByZ2JhKDExMCwgODYsIDIwNywgMC41KTsKICAgICAgICAgICAgLS1zdWNjZXNzOiAjMDBDODUzOwogICAgICAgICAgICAtLXdhcm5pbmc6ICNGRkFCMDA7CiAgICAgICAgICAgIC0tZXJyb3I6ICNGRjE3NDQ7CiAgICAgICAgICAgIC0tdHJhbnNpdGlvbjogYWxsIDAuM3MgY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSk7CiAgICAgICAgICAgIC0tZ2xhc3M6IHJnYmEoMjYsIDI2LCA0NiwgMC41KTsKICAgICAgICAgICAgLS1nbGFzcy1ib3JkZXI6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsKICAgICAgICB9CiAgICAgICAgKiB7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICB9CiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQpOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWluLWhlaWdodDogMTAwdmg7CiAgICAgICAgICAgIG92ZXJzY3JvbGwtYmVoYXZpb3I6IG5vbmU7CiAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IAogICAgICAgICAgICAgICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAyMCUgMzAlLCByZ2JhKDExMCwgODYsIDIwNywgMC4xNSkgMCUsIHRyYW5zcGFyZW50IDMwJSksIAogICAgICAgICAgICAgICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCA4MCUgNzAlLCByZ2JhKDAsIDE5NiwgMTYzLCAwLjE1KSAwJSwgdHJhbnNwYXJlbnQgMzAlKTsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjsKICAgICAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuOwogICAgICAgIH0KICAgICAgICAuY29udGFpbmVyIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwogICAgICAgICAgICBtYXJnaW46IDIwcHg7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTsKICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2JhKDI2LCAyNiwgNDYsIDAuOCksIHJnYmEoMjYsIDI2LCA0NiwgMC42KSk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWdsYXNzLWJvcmRlcik7CiAgICAgICAgfQogICAgICAgIC5oZWFkZXIgewogICAgICAgICAgICBwYWRkaW5nOiAzMnB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDI2LCAyNiwgNDYsIDAuOSksIHJnYmEoMjYsIDI2LCA0NiwgMC43KSk7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig1cHgpOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgfQogICAgICAgIC5oZWFkZXI6OmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogLTUwJTsKICAgICAgICAgICAgbGVmdDogLTUwJTsKICAgICAgICAgICAgd2lkdGg6IDIwMCU7CiAgICAgICAgICAgIGhlaWdodDogMjAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgcmdiYSgxMTAsIDg2LCAyMDcsIDAuMSkgMCUsIHRyYW5zcGFyZW50IDcwJSk7CiAgICAgICAgICAgIGFuaW1hdGlvbjogcm90YXRlIDIwcyBsaW5lYXIgaW5maW5pdGU7CiAgICAgICAgICAgIHotaW5kZXg6IC0xOwogICAgICAgIH0KICAgICAgICBAa2V5ZnJhbWVzIHJvdGF0ZSB7CiAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0KICAgICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0KICAgICAgICB9CiAgICAgICAgLmxvZ28gewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiAxNnB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4OwogICAgICAgIH0KICAgICAgICAubG9nby1pY29uIHsKICAgICAgICAgICAgd2lkdGg6IDUwcHg7CiAgICAgICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLWFjY2VudCkpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNHB4OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBmb250LXNpemU6IDI0cHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLW5lb24tZ2xvdyk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IHZhcigtLXRyYW5zaXRpb24pOwogICAgICAgIH0KICAgICAgICAubG9nbzpob3ZlciAubG9nby1pY29uIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMTVkZWcpIHNjYWxlKDEuMSk7CiAgICAgICAgfQogICAgICAgIC5oZWFkZXIgaDEgewogICAgICAgICAgICBmb250LXNpemU6IGNsYW1wKDI4cHgsIDV2dywgMzZweCk7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdmFyKC0tcHJpbWFyeS1saWdodCksIHZhcigtLWFjY2VudCkpOwogICAgICAgICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDsKICAgICAgICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnU3BhY2UgR3JvdGVzaycsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAtMC41cHg7CiAgICAgICAgfQogICAgICAgIC5oZWFkZXIgcCB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTsKICAgICAgICAgICAgZm9udC1zaXplOiBjbGFtcCgxNHB4LCAzdncsIDE2cHgpOwogICAgICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgICAgICBtYXgtd2lkdGg6IDYwMHB4OwogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICB9CiAgICAgICAgLmlucHV0LWFyZWEgewogICAgICAgICAgICBwYWRkaW5nOiAzMnB4OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBnYXA6IDI0cHg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgfQogICAgICAgIC5wcm9tcHQtY29udGFpbmVyIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIH0KICAgICAgICAjcHJvbXB0IHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLWxpZ2h0KTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMjBweDsKICAgICAgICAgICAgcmVzaXplOiBub25lOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB2YXIoLS10cmFuc2l0aW9uKTsKICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDVweCk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzYsIDM2LCA2MSwgMC41KTsKICAgICAgICB9CiAgICAgICAgI3Byb21wdDpmb2N1cyB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDExMCwgODYsIDIwNywgMC4zKTsKICAgICAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgzNiwgMzYsIDYxLCAwLjcpOwogICAgICAgIH0KICAgICAgICAjcHJvbXB0OjpwbGFjZWhvbGRlciB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTsKICAgICAgICAgICAgb3BhY2l0eTogMC42OwogICAgICAgIH0KICAgICAgICAucHJvbXB0LWNvdW50ZXIgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGJvdHRvbTogMTJweDsKICAgICAgICAgICAgcmlnaHQ6IDEycHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI2LCAyNiwgNDYsIDAuNyk7CiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig1cHgpOwogICAgICAgIH0KICAgICAgICAuY29udHJvbHMgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTsKICAgICAgICAgICAgZ2FwOiAyMHB4OwogICAgICAgIH0KICAgICAgICAuY29udHJvbC1ncm91cCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGdhcDogMTJweDsKICAgICAgICB9CiAgICAgICAgbGFiZWwgewogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiA4cHg7CiAgICAgICAgfQogICAgICAgIGxhYmVsIGkgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICB9CiAgICAgICAgc2VsZWN0IHsKICAgICAgICAgICAgcGFkZGluZzogMTRweCAxNnB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLWxpZ2h0KTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogdmFyKC0tdHJhbnNpdGlvbik7CiAgICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7CiAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9VVRGLTgsJTNjc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSdub25lJyBzdHJva2U9JyUyM0IwQjBEMCcgc3Ryb2tlLXdpZHRoPScyJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnJTNlJTNjcG9seWxpbmUgcG9pbnRzPSc2IDkgMTIgMTUgMTggOSclM2UlM2MvcG9seWxpbmUlM2UlM2Mvc3ZnJTNlIik7CiAgICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IHJpZ2h0IDE2cHggY2VudGVyOwogICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHg7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig1cHgpOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDM2LCAzNiwgNjEsIDAuNSk7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICB9CiAgICAgICAgc2VsZWN0OmZvY3VzIHsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWxpZ2h0KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMTEwLCA4NiwgMjA3LCAwLjMpOwogICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDM2LCAzNiwgNjEsIDAuNyk7CiAgICAgICAgfQogICAgICAgIC5nZW5lcmF0ZS1idG4gewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgcGFkZGluZzogMThweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktZGFyaykpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB2YXIoLS10cmFuc2l0aW9uKTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDExMCwgODYsIDIwNywgMC4zKTsKICAgICAgICB9CiAgICAgICAgLmdlbmVyYXRlLWJ0bjo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBsZWZ0OiAtMTAwJTsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KAogICAgICAgICAgICAgICAgOTBkZWcsCiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudCwKICAgICAgICAgICAgICAgIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwKICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50CiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuNXM7CiAgICAgICAgfQogICAgICAgIC5nZW5lcmF0ZS1idG46aG92ZXI6OmJlZm9yZSB7CiAgICAgICAgICAgIGxlZnQ6IDEwMCU7CiAgICAgICAgfQogICAgICAgIC5nZW5lcmF0ZS1idG46aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1wcmltYXJ5LWxpZ2h0KSwgdmFyKC0tYWNjZW50KSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjBweCByZ2JhKDExMCwgODYsIDIwNywgMC40KTsKICAgICAgICB9CiAgICAgICAgLmdlbmVyYXRlLWJ0bjphY3RpdmUgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICAgICAgfQogICAgICAgIC5nZW5lcmF0ZS1idG46ZGlzYWJsZWQgewogICAgICAgICAgICBvcGFjaXR5OiAwLjc7CiAgICAgICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLXByaW1hcnkpLCB2YXIoLS1wcmltYXJ5LWRhcmspKTsKICAgICAgICAgICAgdHJhbnNmb3JtOiBub25lOwogICAgICAgICAgICBib3gtc2hhZG93OiBub25lOwogICAgICAgIH0KICAgICAgICAuZ2VuZXJhdGUtYnRuOmRpc2FibGVkOjpiZWZvcmUgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAucHJvZ3Jlc3MtY29udGFpbmVyIHsKICAgICAgICAgICAgcGFkZGluZzogMCAzMnB4IDMycHg7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgIC5wcm9ncmVzcy1pbmZvIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4OwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTsKICAgICAgICB9CiAgICAgICAgLnByb2dyZXNzLWJhciB7CiAgICAgICAgICAgIGhlaWdodDogOHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIH0KICAgICAgICAucHJvZ3Jlc3MtZmlsbCB7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgd2lkdGg6IDAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLXByaW1hcnkpLCB2YXIoLS1hY2NlbnQpKTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMC4zcyBlYXNlLW91dDsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KICAgICAgICAucHJvZ3Jlc3MtZmlsbDo6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAnJzsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICBib3R0b206IDA7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgKICAgICAgICAgICAgICAgIDkwZGVnLAogICAgICAgICAgICAgICAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwKSAwJSwKICAgICAgICAgICAgICAgIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSA1MCUsCiAgICAgICAgICAgICAgICByZ2JhKDI1NSwgMjU1LCAyNTUsIDApIDEwMCUKICAgICAgICAgICAgKTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBzaGltbWVyIDJzIGluZmluaXRlOwogICAgICAgIH0KICAgICAgICBAa2V5ZnJhbWVzIHNoaW1tZXIgewogICAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH0KICAgICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsgfQogICAgICAgIH0KICAgICAgICAuaW1hZ2UtY29udGFpbmVyIHsKICAgICAgICAgICAgcGFkZGluZzogMCAzMnB4IDMycHg7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIGFuaW1hdGlvbjogZmFkZUluIDAuNXMgZWFzZS1vdXQ7CiAgICAgICAgfQogICAgICAgIEBrZXlmcmFtZXMgZmFkZUluIHsKICAgICAgICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsgfQogICAgICAgICAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQogICAgICAgIH0KICAgICAgICAuaW1hZ2UtZ3JpZCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjQwcHgsIDFmcikpOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7CiAgICAgICAgfQogICAgICAgIC5pbWFnZS1pdGVtIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNnB4OwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuMyk7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB2YXIoLS10cmFuc2l0aW9uKTsKICAgICAgICAgICAgYXNwZWN0LXJhdGlvOiAxLzE7CiAgICAgICAgICAgIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7CiAgICAgICAgfQogICAgICAgIC5pbWFnZS1pdGVtLnBvcnRyYWl0LWZyYW1lIHsKICAgICAgICAgICAgYXNwZWN0LXJhdGlvOiAzLzQ7CiAgICAgICAgfQogICAgICAgIC5pbWFnZS1pdGVtLmxhbmRzY2FwZS1mcmFtZSB7CiAgICAgICAgICAgIGFzcGVjdC1yYXRpbzogNC8zOwogICAgICAgIH0KICAgICAgICAuaW1hZ2UtaXRlbS53aWRlLWZyYW1lIHsKICAgICAgICAgICAgYXNwZWN0LXJhdGlvOiAxNi85OwogICAgICAgIH0KICAgICAgICAuaW1hZ2UtaXRlbTpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtOHB4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxNXB4IDMwcHggcmdiYSgwLDAsMCwwLjQpOwogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktbGlnaHQpOwogICAgICAgIH0KICAgICAgICAuaW1hZ2UtaXRlbSBpbWcgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1saWdodCk7CiAgICAgICAgfQogICAgICAgIC5sb2FkZXIgewogICAgICAgICAgICB3aWR0aDogNDhweDsKICAgICAgICAgICAgaGVpZ2h0OiA0OHB4OwogICAgICAgICAgICBib3JkZXI6IDRweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7CiAgICAgICAgICAgIGJvcmRlci10b3A6IDRweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgfQogICAgICAgIC5sb2FkZXI6OmFmdGVyIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAtNHB4OwogICAgICAgICAgICBsZWZ0OiAtNHB4OwogICAgICAgICAgICByaWdodDogLTRweDsKICAgICAgICAgICAgYm90dG9tOiAtNHB4OwogICAgICAgICAgICBib3JkZXI6IDRweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1hY2NlbnQpOwogICAgICAgICAgICBhbmltYXRpb246IHNwaW4gMS41cyBsaW5lYXIgaW5maW5pdGUgcmV2ZXJzZTsKICAgICAgICB9CiAgICAgICAgQGtleWZyYW1lcyBzcGluIHsKICAgICAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfQogICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfQogICAgICAgIH0KICAgICAgICAudG9hc3QgewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIGJvdHRvbTogMjBweDsKICAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDE0cHggMjhweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjRweCByZ2JhKDAsMCwwLDAuMyk7CiAgICAgICAgICAgIHotaW5kZXg6IDEwMDA7CiAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlLCB0cmFuc2Zvcm0gMC4zcyBlYXNlOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDEycHg7CiAgICAgICAgICAgIG1heC13aWR0aDogOTAlOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTEwLCA4NiwgMjA3LCAwLjkpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1nbGFzcy1ib3JkZXIpOwogICAgICAgIH0KICAgICAgICAudG9hc3Quc2hvdyB7CiAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDApOwogICAgICAgIH0KICAgICAgICAudG9hc3Quc3VjY2VzcyB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMjAwLCA4MywgMC45KTsKICAgICAgICB9CiAgICAgICAgLnRvYXN0LmVycm9yIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDIzLCA2OCwgMC45KTsKICAgICAgICB9CiAgICAgICAgLnRvYXN0Lndhcm5pbmcgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMTcxLCAwLCAwLjkpOwogICAgICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICB9CiAgICAgICAgLmFjdGlvbi1idXR0b25zIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZ2FwOiAxNnB4OwogICAgICAgICAgICBtYXJnaW4tdG9wOiAyNHB4OwogICAgICAgIH0KICAgICAgICAuYWN0aW9uLWJ0biB7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIHBhZGRpbmc6IDE0cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtbGlnaHQpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dCk7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogdmFyKC0tdHJhbnNpdGlvbik7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGdhcDogOHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgzNiwgMzYsIDYxLCAwLjUpOwogICAgICAgIH0KICAgICAgICAuYWN0aW9uLWJ0bjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDExMCwgODYsIDIwNywgMC4zKTsKICAgICAgICB9CiAgICAgICAgLmFjdGlvbi1idG46YWN0aXZlIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgICAgIH0KICAgICAgICAuZG93bmxvYWQtYnRuIHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICBib3R0b206IDEycHg7CiAgICAgICAgICAgIHJpZ2h0OiAxMnB4OwogICAgICAgICAgICBwYWRkaW5nOiA4cHggMTRweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNyk7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiA2cHg7CiAgICAgICAgICAgIHRyYW5zaXRpb246IHZhcigtLXRyYW5zaXRpb24pOwogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTsKICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwcHgpOwogICAgICAgIH0KICAgICAgICAuaW1hZ2UtaXRlbTpob3ZlciAuZG93bmxvYWQtYnRuIHsKICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgICAgIH0KICAgICAgICAuZG93bmxvYWQtYnRuOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KSBzY2FsZSgxLjA1KTsKICAgICAgICB9CiAgICAgICAgLnNrZWxldG9uIHsKICAgICAgICAgICAgYW5pbWF0aW9uOiBza2VsZXRvbi1sb2FkaW5nIDEuNXMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiYSgzNiwgMzYsIDYxLCAwLjUpLCByZ2JhKDU4LCA1OCwgOTAsIDAuNSksIHJnYmEoMzYsIDM2LCA2MSwgMC41KSk7CiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogMjAwJSAxMDAlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICAgIH0KICAgICAgICBAa2V5ZnJhbWVzIHNrZWxldG9uLWxvYWRpbmcgewogICAgICAgICAgICAwJSB7IGJhY2tncm91bmQtcG9zaXRpb246IDIwMCUgMDsgfQogICAgICAgICAgICAxMDAlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIwMCUgMDsgfQogICAgICAgIH0KICAgICAgICAvKiBGbG9hdGluZyBwYXJ0aWNsZXMgYmFja2dyb3VuZCAqLwogICAgICAgIC5wYXJ0aWNsZXMgewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgei1pbmRleDogLTE7CiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICAgIH0KICAgICAgICAucGFydGljbGUgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMTAsIDg2LCAyMDcsIDAuMyk7CiAgICAgICAgICAgIGFuaW1hdGlvbjogZmxvYXQgbGluZWFyIGluZmluaXRlOwogICAgICAgIH0KICAgICAgICBAa2V5ZnJhbWVzIGZsb2F0IHsKICAgICAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCkgcm90YXRlKDBkZWcpOyB9CiAgICAgICAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMHZoKSByb3RhdGUoMzYwZGVnKTsgfQogICAgICAgIH0KICAgICAgICAvKiBSZXNwb25zaXZlIGFkanVzdG1lbnRzICovCiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgICAgICAgICAgIC5jb250YWluZXIgewogICAgICAgICAgICAgICAgbWFyZ2luOiAxNXB4OwogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLmhlYWRlciB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyNHB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuaW5wdXQtYXJlYSB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyNHB4OwogICAgICAgICAgICAgICAgZ2FwOiAyMHB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuY29udHJvbHMgewogICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICNwcm9tcHQgewogICAgICAgICAgICAgICAgbWluLWhlaWdodDogMTAwcHg7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC5hY3Rpb24tYnRuIHsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgICAgICAgICAgIC5jb250YWluZXIgewogICAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4OwogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLmhlYWRlciB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuaW5wdXQtYXJlYSB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICAgICAgZ2FwOiAxNnB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuaW1hZ2UtZ3JpZCB7CiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLmFjdGlvbi1idXR0b25zIHsKICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICBnYXA6IDEycHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPCEtLSBGbG9hdGluZyBwYXJ0aWNsZXMgYmFja2dyb3VuZCAtLT4KICAgIDxkaXYgY2xhc3M9InBhcnRpY2xlcyIgaWQ9InBhcnRpY2xlcyI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvZ28iPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibG9nby1pY29uIj4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXJvYm90Ij48L2k+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxoMT5FMy1IQUNLRVIgQUk8L2gxPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPHA+VHJhbnNmb3JtIHlvdXIgaW1hZ2luYXRpb24gaW50byBzdHVubmluZyBBSS1nZW5lcmF0ZWQgYXJ0IHdpdGggb3VyIHBvd2VyZnVsIGltYWdlIGdlbmVyYXRvcjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC1hcmVhIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvbXB0LWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9InByb21wdCIgcGxhY2Vob2xkZXI9IkRlc2NyaWJlIHlvdXIgdmlzaW9uLi4uIChlLmcuICdBIGZ1dHVyaXN0aWMgY2l0eXNjYXBlIGF0IG5pZ2h0IHdpdGggbmVvbiBsaWdodHMgcmVmbGVjdGluZyBvbiB3ZXQgc3RyZWV0cywgY3liZXJwdW5rIHN0eWxlJykiIHJvd3M9IjUiIG1heGxlbmd0aD0iMjUwMCI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb21wdC1jb3VudGVyIj48c3BhbiBpZD0iY2hhci1jb3VudCI+MDwvc3Bhbj4vMjUwMDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2xzIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2wtZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aSBjbGFzcz0iZmFzIGZhLWxheWVyLWdyb3VwIj48L2k+IEltYWdlIENvdW50PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJpbWFnZS1jb3VudCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjEiPjEgSW1hZ2U8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMiIgc2VsZWN0ZWQ+MiBJbWFnZXM8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iNCI+NCBJbWFnZXM8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9sLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGkgY2xhc3M9ImZhcyBmYS1leHBhbmQiPjwvaT4gSW1hZ2UgU2l6ZTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iaW1hZ2Utc2l6ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InNxdWFyZSI+U3F1YXJlICgxOjEpPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InBvcnRyYWl0Ij5Qb3J0cmFpdCAoMzo0KTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJsYW5kc2NhcGUiPkxhbmRzY2FwZSAoNDozKTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJ3aWRlIj5XaWRlc2NyZWVuICgxNjo5KTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9scyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9sLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGkgY2xhc3M9ImZhcyBmYS1wYWludC1icnVzaCI+PC9pPiBTdHlsZTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iaW1hZ2Utc3R5bGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJyZWFsaXN0aWMiPlJlYWxpc3RpYzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhbmltZSIgc2VsZWN0ZWQ+QW5pbWU8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZmFudGFzeSI+RmFudGFzeTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJjeWJlcnB1bmsiPkN5YmVycHVuazwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJ3YXRlcmNvbG9yIj5XYXRlcmNvbG9yPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im9pbF9wYWludGluZyI+T2lsIFBhaW50aW5nPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udHJvbC1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpIGNsYXNzPSJmYXMgZmEtc3RhciI+PC9pPiBRdWFsaXR5PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJpbWFnZS1xdWFsaXR5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ic3RhbmRhcmQiPlN0YW5kYXJkPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImhpZ2giIHNlbGVjdGVkPkhpZ2g8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0idWx0cmEiPlVsdHJhIEhEPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8YnV0dG9uIGlkPSJnZW5lcmF0ZS1idG4iIGNsYXNzPSJnZW5lcmF0ZS1idG4iPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1tYWdpYyI+PC9pPiBHZW5lcmF0ZSBBSSBBcnQKICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtY29udGFpbmVyIiBpZD0icHJvZ3Jlc3MtY29udGFpbmVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtaW5mbyI+CiAgICAgICAgICAgICAgICA8c3BhbiBpZD0icHJvZ3Jlc3Mtc3RhdHVzIiBhcmlhLWxpdmU9InBvbGl0ZSI+SW5pdGlhbGl6aW5nIEFJIG1vZGVsLi4uPC9zcGFuPgogICAgICAgICAgICAgICAgPHNwYW4gaWQ9InByb2dyZXNzLXBlcmNlbnQiPjAlPC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzLWZpbGwiIGlkPSJwcm9ncmVzcy1maWxsIj48L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iaW1hZ2UtY29udGFpbmVyIiBpZD0iaW1hZ2UtY29udGFpbmVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW1hZ2UtZ3JpZCIgaWQ9ImltYWdlLWdyaWQiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY3Rpb24tYnV0dG9ucyIgaWQ9ImFjdGlvbi1idXR0b25zIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biIgaWQ9ImRvd25sb2FkLWFsbC1idG4iPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZG93bmxvYWQiPjwvaT4gRG93bmxvYWQgQWxsCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImFjdGlvbi1idG4iIGlkPSJyZWdlbmVyYXRlLWJ0biI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1zeW5jLWFsdCI+PC9pPiBSZWdlbmVyYXRlCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InRvYXN0IiBpZD0idG9hc3QiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+CiAgICAgICAgPHNwYW4gaWQ9InRvYXN0LW1lc3NhZ2UiPkltYWdlIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkhPC9zcGFuPgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiAtIGNhY2hlIERPTSBlbGVtZW50cwogICAgICAgIGNvbnN0IGRvbSA9IHsKICAgICAgICAgICAgcHJvbXB0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvbXB0IiksCiAgICAgICAgICAgIGNoYXJDb3VudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXItY291bnQiKSwKICAgICAgICAgICAgZ2VuZXJhdGVCdG46IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnZW5lcmF0ZS1idG4iKSwKICAgICAgICAgICAgcHJvZ3Jlc3NDb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9ncmVzcy1jb250YWluZXIiKSwKICAgICAgICAgICAgcHJvZ3Jlc3NGaWxsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ3Jlc3MtZmlsbCIpLAogICAgICAgICAgICBwcm9ncmVzc1N0YXR1czogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dyZXNzLXN0YXR1cyIpLAogICAgICAgICAgICBwcm9ncmVzc1BlcmNlbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9ncmVzcy1wZXJjZW50IiksCiAgICAgICAgICAgIGltYWdlQ29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1hZ2UtY29udGFpbmVyIiksCiAgICAgICAgICAgIGltYWdlR3JpZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltYWdlLWdyaWQiKSwKICAgICAgICAgICAgYWN0aW9uQnV0dG9uczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdGlvbi1idXR0b25zIiksCiAgICAgICAgICAgIHRvYXN0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9hc3QiKSwKICAgICAgICAgICAgdG9hc3RNZXNzYWdlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9hc3QtbWVzc2FnZSIpLAogICAgICAgICAgICBpbWFnZUNvdW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1hZ2UtY291bnQiKSwKICAgICAgICAgICAgaW1hZ2VTaXplOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1hZ2Utc2l6ZSIpLAogICAgICAgICAgICBpbWFnZVN0eWxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1hZ2Utc3R5bGUiKSwKICAgICAgICAgICAgZG93bmxvYWRBbGxCdG46IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb3dubG9hZC1hbGwtYnRuIiksCiAgICAgICAgICAgIHJlZ2VuZXJhdGVCdG46IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWdlbmVyYXRlLWJ0biIpLAogICAgICAgICAgICBwYXJ0aWNsZXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYXJ0aWNsZXMiKQogICAgICAgIH07CiAgICAgICAgLy8gU3RhdGUgbWFuYWdlbWVudAogICAgICAgIGNvbnN0IHN0YXRlID0gewogICAgICAgICAgICBjdXJyZW50UG9sbEludGVydmFsOiBudWxsLAogICAgICAgICAgICBjdXJyZW50SW5pdGlhbFByb2dyZXNzSW50ZXJ2YWw6IG51bGwsCiAgICAgICAgICAgIGFjdGl2ZVJlcXVlc3RzOiBbXSwKICAgICAgICAgICAgaXNHZW5lcmF0aW5nOiBmYWxzZSwKICAgICAgICAgICAgY3VycmVudEltYWdlczogW10KICAgICAgICB9OwogICAgICAgIC8vIENyZWF0ZSBmbG9hdGluZyBwYXJ0aWNsZXMKICAgICAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWNsZXMoKSB7CiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gTWF0aC5mbG9vcih3aW5kb3cuaW5uZXJXaWR0aCAvIDIwKTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgcGFydGljbGUuY2xhc3NMaXN0LmFkZCgncGFydGljbGUnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgucmFuZG9tKCkgKiA1ICsgMjsKICAgICAgICAgICAgICAgIGNvbnN0IHBvc1ggPSBNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVyV2lkdGg7CiAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGgucmFuZG9tKCkgKiAyMCArIDEwOwogICAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLnJhbmRvbSgpICogLTIwOwogICAgICAgICAgICAgICAgY29uc3Qgb3BhY2l0eSA9IE1hdGgucmFuZG9tKCkgKiAwLjQgKyAwLjE7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHBhcnRpY2xlLnN0eWxlLndpZHRoID0gYCR7c2l6ZX1weGA7CiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zdHlsZS5oZWlnaHQgPSBgJHtzaXplfXB4YDsKICAgICAgICAgICAgICAgIHBhcnRpY2xlLnN0eWxlLmxlZnQgPSBgJHtwb3NYfXB4YDsKICAgICAgICAgICAgICAgIHBhcnRpY2xlLnN0eWxlLmJvdHRvbSA9IGAtJHtzaXplfXB4YDsKICAgICAgICAgICAgICAgIHBhcnRpY2xlLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259c2A7CiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zdHlsZS5hbmltYXRpb25EZWxheSA9IGAke2RlbGF5fXNgOwogICAgICAgICAgICAgICAgcGFydGljbGUuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRvbS5wYXJ0aWNsZXMuYXBwZW5kQ2hpbGQocGFydGljbGUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGFwcAogICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgICAgIGNyZWF0ZVBhcnRpY2xlcygpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2hhcmFjdGVyIGNvdW50ZXIgZm9yIHByb21wdAogICAgICAgICAgICBkb20ucHJvbXB0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKCkgPT4gewogICAgICAgICAgICAgICAgZG9tLmNoYXJDb3VudC50ZXh0Q29udGVudCA9IGRvbS5wcm9tcHQudmFsdWUubGVuZ3RoOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEdlbmVyYXRlIG9uIEVudGVyICh3aXRob3V0IFNoaWZ0KQogICAgICAgICAgICBkb20ucHJvbXB0LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCAoZSkgPT4gewogICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAiRW50ZXIiICYmICFlLnNoaWZ0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZUdlbmVyYXRlQ2xpY2soKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIEJ1dHRvbiBldmVudCBsaXN0ZW5lcnMKICAgICAgICAgICAgZG9tLmdlbmVyYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZGVib3VuY2UoaGFuZGxlR2VuZXJhdGVDbGljaywgMzAwKSk7CiAgICAgICAgICAgIGRvbS5yZWdlbmVyYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZGVib3VuY2UoaGFuZGxlR2VuZXJhdGVDbGljaywgMzAwKSk7CiAgICAgICAgICAgIGRvbS5kb3dubG9hZEFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGRlYm91bmNlKGRvd25sb2FkQWxsSW1hZ2VzLCAzMDApKTsKICAgICAgICB9CiAgICAgICAgLy8gRGVib3VuY2UgZnVuY3Rpb24gZm9yIHBlcmZvcm1hbmNlCiAgICAgICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCkgewogICAgICAgICAgICBsZXQgdGltZW91dDsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpLCB3YWl0KTsKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlR2VuZXJhdGVDbGljaygpIHsKICAgICAgICAgICAgaWYgKHN0YXRlLmlzR2VuZXJhdGluZykgcmV0dXJuOwogICAgICAgICAgICBzdGF0ZS5pc0dlbmVyYXRpbmcgPSB0cnVlOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gZG9tLnByb21wdC52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGlmICghcHJvbXB0KSB7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QoIlBsZWFzZSBlbnRlciBhIHByb21wdCIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgc3RhdGUuaXNHZW5lcmF0aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIERpc2FibGUgYnV0dG9uIGR1cmluZyB2ZXJpZmljYXRpb24KICAgICAgICAgICAgZG9tLmdlbmVyYXRlQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgZG9tLmdlbmVyYXRlQnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXNwaW5uZXIgZmEtc3BpbiI+PC9pPiBWZXJpZnlpbmcuLi4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIGludGVydmFscyBhbmQgcmVxdWVzdHMKICAgICAgICAgICAgY2xlYW51cCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRXhlY3V0ZSByZUNBUFRDSEEKICAgICAgICAgICAgZ3JlY2FwdGNoYS5yZWFkeShmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGdyZWNhcHRjaGEuZXhlY3V0ZSgnNkxkNG5Sd3JBQUFBQVA2ZGhORlREc0xyM0FSTWdEZmFtbFhId24xdicsIHthY3Rpb246ICdnZW5lcmF0ZSd9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKHRva2VuID0+IGdlbmVyYXRlSW1hZ2UodG9rZW4pKQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoInJlQ0FQVENIQSBlcnJvcjoiLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgiVmVyaWZpY2F0aW9uIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRHZW5lcmF0ZUJ1dHRvbigpOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0dlbmVyYXRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHNob3dUb2FzdChtZXNzYWdlLCB0eXBlID0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIGNvbnN0IGljb24gPSBkb20udG9hc3QucXVlcnlTZWxlY3RvcignaScpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2V0IGljb24gYmFzZWQgb24gdHlwZQogICAgICAgICAgICBpY29uLmNsYXNzTmFtZSA9IHR5cGUgPT09ICJlcnJvciIgPyAiZmFzIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZSIgOiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPT09ICJ3YXJuaW5nIiA/ICJmYXMgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGUiIDogCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZmFzIGZhLWNoZWNrLWNpcmNsZSI7CiAgICAgICAgICAgIAogICAgICAgICAgICBkb20udG9hc3RNZXNzYWdlLnRleHRDb250ZW50ID0gbWVzc2FnZTsKICAgICAgICAgICAgZG9tLnRvYXN0LmNsYXNzTmFtZSA9IGB0b2FzdCBzaG93ICR7dHlwZX1gOwogICAgICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBkb20udG9hc3QuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2V0SW1hZ2VEaW1lbnNpb25zKHNpemUpIHsKICAgICAgICAgICAgLy8gU21hbGxlciBkaW1lbnNpb25zIGZvciBmYXN0ZXIgZ2VuZXJhdGlvbiBpbiBkZW1vCiAgICAgICAgICAgIHN3aXRjaChzaXplKSB7CiAgICAgICAgICAgICAgICBjYXNlICdwb3J0cmFpdCc6IHJldHVybiB7IHdpZHRoOiA1MTIsIGhlaWdodDogNjgyIH07CiAgICAgICAgICAgICAgICBjYXNlICdsYW5kc2NhcGUnOiByZXR1cm4geyB3aWR0aDogNjgyLCBoZWlnaHQ6IDUxMiB9OwogICAgICAgICAgICAgICAgY2FzZSAnd2lkZSc6IHJldHVybiB7IHdpZHRoOiA4NTMsIGhlaWdodDogNDgwIH07CiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4geyB3aWR0aDogNTEyLCBoZWlnaHQ6IDUxMiB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdldEFzcGVjdFJhdGlvQ2xhc3Moc2l6ZSkgewogICAgICAgICAgICBzd2l0Y2goc2l6ZSkgewogICAgICAgICAgICAgICAgY2FzZSAncG9ydHJhaXQnOiByZXR1cm4gJ3BvcnRyYWl0LWZyYW1lJzsKICAgICAgICAgICAgICAgIGNhc2UgJ2xhbmRzY2FwZSc6IHJldHVybiAnbGFuZHNjYXBlLWZyYW1lJzsKICAgICAgICAgICAgICAgIGNhc2UgJ3dpZGUnOiByZXR1cm4gJ3dpZGUtZnJhbWUnOwogICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuICdzcXVhcmUtZnJhbWUnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkSW1hZ2UodXJsLCBpbmRleCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlCiAgICAgICAgICAgICAgICBzaG93VG9hc3QoYFByZXBhcmluZyBkb3dubG9hZCBmb3IgaW1hZ2UgJHtpbmRleCArIDF9Li4uYCwgJ3dhcm5pbmcnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlIFVSTCBpcyB2YWxpZCBhbmQgcmV0dXJucyBhbiBpbWFnZQogICAgICAgICAgICAgICAgY29uc3QgaGVhZFJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7IG1ldGhvZDogJ0hFQUQnIH0pOwogICAgICAgICAgICAgICAgaWYgKCFoZWFkUmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltYWdlIG5vdCBhdmFpbGFibGUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSBoZWFkUmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpOwogICAgICAgICAgICAgICAgaWYgKCFjb250ZW50VHlwZSB8fCAhY29udGVudFR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW1hZ2UgY29udGVudCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGBhaS1hcnQtJHtEYXRlLm5vdygpfS0ke2luZGV4ICsgMX0uanBnYDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gTm93IGZldGNoIHRoZSBhY3R1YWwgaW1hZ2UKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTsKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7CiAgICAgICAgICAgICAgICBjb25zdCBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGRvd25sb2FkIGxpbmsKICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgICAgICBhLmhyZWYgPSBibG9iVXJsOwogICAgICAgICAgICAgICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ2xlYW51cAogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTsKICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2JVcmwpOwogICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc2hvd1RvYXN0KGBEb3dubG9hZGVkIGltYWdlICR7aW5kZXggKyAxfSFgKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Rvd25sb2FkIGVycm9yOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHNob3dUb2FzdCgnRmFpbGVkIHRvIGRvd25sb2FkIGltYWdlLiBJdCBtYXkgdmlvbGF0ZSBjb250ZW50IHBvbGljeS4nLCAnZXJyb3InKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBkb3dubG9hZEFsbEltYWdlcygpIHsKICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRJbWFnZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QoIk5vIGltYWdlcyB0byBkb3dubG9hZCIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBzaG93VG9hc3QoYFN0YXJ0aW5nIGRvd25sb2FkIG9mICR7c3RhdGUuY3VycmVudEltYWdlcy5sZW5ndGh9IGltYWdlcy4uLmAsICJ3YXJuaW5nIik7CiAgICAgICAgICAgIAogICAgICAgICAgICBzdGF0ZS5jdXJyZW50SW1hZ2VzLmZvckVhY2goKHVybCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkSW1hZ2UodXJsLCBpbmRleCk7CiAgICAgICAgICAgICAgICB9LCBpbmRleCAqIDUwMCk7IC8vIFN0YWdnZXIgZG93bmxvYWRzCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBzZXR1cEltYWdlR3JpZChpbWFnZUNvdW50LCBhc3BlY3RSYXRpb0NsYXNzKSB7CiAgICAgICAgICAgIGRvbS5pbWFnZUdyaWQuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRJbWFnZXMgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENyZWF0ZSBza2VsZXRvbiBsb2FkZXJzIGZpcnN0IGZvciBwZXJjZWl2ZWQgcGVyZm9ybWFuY2UKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZUNvdW50OyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgaW1hZ2VJdGVtLmNsYXNzTmFtZSA9IGBpbWFnZS1pdGVtICR7YXNwZWN0UmF0aW9DbGFzc30gc2tlbGV0b25gOwogICAgICAgICAgICAgICAgZG9tLmltYWdlR3JpZC5hcHBlbmRDaGlsZChpbWFnZUl0ZW0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBUaGVuIHJlcGxhY2Ugd2l0aCBhY3R1YWwgbG9hZGVycyBhZnRlciBhIHNtYWxsIGRlbGF5CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgZG9tLmltYWdlR3JpZC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VDb3VudDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgaW1hZ2VJdGVtLmNsYXNzTmFtZSA9IGBpbWFnZS1pdGVtICR7YXNwZWN0UmF0aW9DbGFzc31gOwogICAgICAgICAgICAgICAgICAgIGltYWdlSXRlbS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvYWRlciIgYXJpYS1sYWJlbD0iTG9hZGluZyBpbWFnZSAke2kgKyAxfSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgaWQ9Im91dHB1dEltYWdlLSR7aX0iIGFsdD0iR2VuZXJhdGVkIGltYWdlICR7aSArIDF9IiBsb2FkaW5nPSJsYXp5Ij4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIGRvbS5pbWFnZUdyaWQuYXBwZW5kQ2hpbGQoaW1hZ2VJdGVtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgNTApOwogICAgICAgIH0KICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUltYWdlKHJlY2FwdGNoYVRva2VuKSB7CiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGRvbS5wcm9tcHQudmFsdWUudHJpbSgpOwogICAgICAgICAgICBjb25zdCBpbWFnZUNvdW50ID0gcGFyc2VJbnQoZG9tLmltYWdlQ291bnQudmFsdWUpOwogICAgICAgICAgICBjb25zdCBpbWFnZVNpemUgPSBkb20uaW1hZ2VTaXplLnZhbHVlOwogICAgICAgICAgICBjb25zdCBpbWFnZVN0eWxlID0gZG9tLmltYWdlU3R5bGUudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBnZXRJbWFnZURpbWVuc2lvbnMoaW1hZ2VTaXplKTsKICAgICAgICAgICAgY29uc3QgYXNwZWN0UmF0aW9DbGFzcyA9IGdldEFzcGVjdFJhdGlvQ2xhc3MoaW1hZ2VTaXplKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFNob3cgbG9hZGluZyBVSQogICAgICAgICAgICBzZXR1cEltYWdlR3JpZChpbWFnZUNvdW50LCBhc3BlY3RSYXRpb0NsYXNzKTsKICAgICAgICAgICAgZG9tLnByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICBkb20uaW1hZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIGRvbS5hY3Rpb25CdXR0b25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIGRvbS5wcm9ncmVzc0ZpbGwuc3R5bGUud2lkdGggPSAiMCUiOwogICAgICAgICAgICBkb20ucHJvZ3Jlc3NTdGF0dXMudGV4dENvbnRlbnQgPSAiSW5pdGlhbGl6aW5nIEFJIG1vZGVsLi4uIjsKICAgICAgICAgICAgZG9tLnByb2dyZXNzUGVyY2VudC50ZXh0Q29udGVudCA9ICIwJSI7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBJbml0aWFsIHByb2dyZXNzIGFuaW1hdGlvbgogICAgICAgICAgICBsZXQgcHJvZ3Jlc3MgPSAwOwogICAgICAgICAgICBzdGF0ZS5jdXJyZW50SW5pdGlhbFByb2dyZXNzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICBwcm9ncmVzcyArPSAxOwogICAgICAgICAgICAgICAgZG9tLnByb2dyZXNzRmlsbC5zdHlsZS53aWR0aCA9IGAke3Byb2dyZXNzfSVgOwogICAgICAgICAgICAgICAgZG9tLnByb2dyZXNzUGVyY2VudC50ZXh0Q29udGVudCA9IGAke3Byb2dyZXNzfSVgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMTUpIHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHN0YXRlLmN1cnJlbnRJbml0aWFsUHJvZ3Jlc3NJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgZG9tLnByb2dyZXNzU3RhdHVzLnRleHRDb250ZW50ID0gIkNvbm5lY3RpbmcgdG8gQUkgc2VydmVyLi4uIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMzApOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgc2Vzc2lvbiBJRAogICAgICAgICAgICBjb25zdCBzZXNzaW9uSUQgPSAnc2Vzc2lvbi0nICsgRGF0ZS5ub3coKSArICctJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyBTdGVwIDE6IEdldCBUb2tlbiB3aXRoIHRpbWVvdXQKICAgICAgICAgICAgICAgIGRvbS5wcm9ncmVzc1N0YXR1cy50ZXh0Q29udGVudCA9ICJBdXRoZW50aWNhdGluZy4uLiI7CiAgICAgICAgICAgICAgICBjb25zdCBsb2dpbkNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7CiAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVSZXF1ZXN0cy5wdXNoKGxvZ2luQ29udHJvbGxlcik7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2luUmVzID0gYXdhaXQgZmV0Y2hXaXRoVGltZW91dCgKICAgICAgICAgICAgICAgICAgICAiaHR0cHM6Ly9hcGkuc2VhYXJ0LmlvL2FydC1zdHVkaW8vdjEvYWNjb3VudC9sb2dpbiIsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlgtRGV2aWNlLUlEIjogc2Vzc2lvbklELAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJYLVJlY2FwdGNoYS1Ub2tlbiI6IHJlY2FwdGNoYVRva2VuCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdHlwZTogMTYgfSkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIDEwMDAwLAogICAgICAgICAgICAgICAgICAgIGxvZ2luQ29udHJvbGxlcgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgbG9naW5EYXRhID0gYXdhaXQgbG9naW5SZXMuanNvbigpOwogICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBsb2dpbkRhdGE/LmRhdGE/LnRva2VuOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoIXRva2VuKSB0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBhdXRoZW50aWNhdGUiKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzCiAgICAgICAgICAgICAgICBkb20ucHJvZ3Jlc3NGaWxsLnN0eWxlLndpZHRoID0gIjIwJSI7CiAgICAgICAgICAgICAgICBkb20ucHJvZ3Jlc3NQZXJjZW50LnRleHRDb250ZW50ID0gIjIwJSI7CiAgICAgICAgICAgICAgICBkb20ucHJvZ3Jlc3NTdGF0dXMudGV4dENvbnRlbnQgPSAiUHJlcGFyaW5nIGdlbmVyYXRpb24uLi4iOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTdGVwIDI6IFN0YXJ0IGdlbmVyYXRpb24KICAgICAgICAgICAgICAgIGNvbnN0IHNlZWQgPSBNYXRoLmZsb29yKDEwMDAwMDAwMDAgKyBNYXRoLnJhbmRvbSgpICogOTAwMDAwMDAwMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEVuaGFuY2UgcHJvbXB0IHdpdGggc3R5bGUKICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlUHJvbXB0cyA9IHsKICAgICAgICAgICAgICAgICAgICByZWFsaXN0aWM6ICJoeXBlciByZWFsaXN0aWMsIDhrLCBkZXRhaWxlZCwgcGhvdG9yZWFsaXN0aWMiLAogICAgICAgICAgICAgICAgICAgIGFuaW1lOiAiYW5pbWUgc3R5bGUsIHZpYnJhbnQgY29sb3JzLCBzdHVkaW8gZ2hpYmxpIGluc3BpcmVkIiwKICAgICAgICAgICAgICAgICAgICBmYW50YXN5OiAiZmFudGFzeSBhcnQsIG1hZ2ljYWwsIGV0aGVyZWFsLCBkcmVhbWxpa2UiLAogICAgICAgICAgICAgICAgICAgIGN5YmVycHVuazogImN5YmVycHVuaywgbmVvbiBsaWdodHMsIGZ1dHVyaXN0aWMsIHNjaS1maSIsCiAgICAgICAgICAgICAgICAgICAgd2F0ZXJjb2xvcjogIndhdGVyY29sb3IgcGFpbnRpbmcsIHNvZnQgZWRnZXMsIGFydGlzdGljIiwKICAgICAgICAgICAgICAgICAgICBvaWxfcGFpbnRpbmc6ICJvaWwgcGFpbnRpbmcsIGJydXNoIHN0cm9rZXMsIGNsYXNzaWNhbCBhcnQiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBlbmhhbmNlZFByb21wdCA9IGAke3Byb21wdH0sICR7c3R5bGVQcm9tcHRzW2ltYWdlU3R5bGVdIHx8ICIifWA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSB7CiAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBlbmhhbmNlZFByb21wdCwKICAgICAgICAgICAgICAgICAgICBzZWVkLAogICAgICAgICAgICAgICAgICAgIG5faXRlcjogaW1hZ2VDb3VudCwKICAgICAgICAgICAgICAgICAgICB3aWR0aDogZGltZW5zaW9ucy53aWR0aCwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LAogICAgICAgICAgICAgICAgICAgIHByb21wdF9tYWdpY19tb2RlOiAxLAogICAgICAgICAgICAgICAgICAgIGluaXRfaW1hZ2VzOiBbXSwKICAgICAgICAgICAgICAgICAgICBkZW5vaXNpbmdfc3RyZW5ndGg6IDAuNywKICAgICAgICAgICAgICAgICAgICBhc3BlY3Q6IGAke2RpbWVuc2lvbnMud2lkdGh9OiR7ZGltZW5zaW9ucy5oZWlnaHR9YCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAyLAogICAgICAgICAgICAgICAgICAgIHNlZWRfbW9kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc0hvbWVUYXNrOiAieWVzIgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgZ2VuQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTsKICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVJlcXVlc3RzLnB1c2goZ2VuQ29udHJvbGxlcik7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGdlblJlcyA9IGF3YWl0IGZldGNoV2l0aFRpbWVvdXQoCiAgICAgICAgICAgICAgICAgICAgImh0dHBzOi8vYXBpLnNlYWFydC5pby9hcnQtc3R1ZGlvL3YxL2dlbmVyYXRlL3RleHQtdG8taW1nIiwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiWC1EZXZpY2UtSUQiOiBzZXNzaW9uSUQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVG9rZW4iOiB0b2tlbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJYLURldmljZS1PUyI6ICJhbmRyb2lkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiWC1SZWNhcHRjaGEtVG9rZW4iOiByZWNhcHRjaGFUb2tlbgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1ldGEsIHBhcmVudF90YXNrX2lkOiAiIiB9KQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgMTUwMDAsCiAgICAgICAgICAgICAgICAgICAgZ2VuQ29udHJvbGxlcgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgZ2VuRGF0YSA9IGF3YWl0IGdlblJlcy5qc29uKCk7CiAgICAgICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBnZW5EYXRhPy5kYXRhPy5pZDsKICAgICAgICAgICAgICAgIGlmICghdGFza0lkKSB0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBzdGFydCBnZW5lcmF0aW9uIik7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzcwogICAgICAgICAgICAgICAgZG9tLnByb2dyZXNzRmlsbC5zdHlsZS53aWR0aCA9ICI0MCUiOwogICAgICAgICAgICAgICAgZG9tLnByb2dyZXNzUGVyY2VudC50ZXh0Q29udGVudCA9ICI0MCUiOwogICAgICAgICAgICAgICAgZG9tLnByb2dyZXNzU3RhdHVzLnRleHRDb250ZW50ID0gIkdlbmVyYXRpbmcgaW1hZ2VzLi4uIjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU3RlcCAzOiBQb2xsIGZvciBwcm9ncmVzcwogICAgICAgICAgICAgICAgcG9sbEdlbmVyYXRpb25Qcm9ncmVzcyh0YXNrSWQsIHRva2VuLCBzZXNzaW9uSUQsIGltYWdlQ291bnQsIGFzcGVjdFJhdGlvQ2xhc3MpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJHZW5lcmF0aW9uIGVycm9yOiIsIGVycm9yKTsKICAgICAgICAgICAgICAgIGhhbmRsZUdlbmVyYXRpb25FcnJvcihlcnJvci5tZXNzYWdlIHx8ICJHZW5lcmF0aW9uIGZhaWxlZCIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoV2l0aFRpbWVvdXQodXJsLCBvcHRpb25zLCB0aW1lb3V0LCBjb250cm9sbGVyKSB7CiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgewogICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsCiAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpOwogICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcG9sbEdlbmVyYXRpb25Qcm9ncmVzcyh0YXNrSWQsIHRva2VuLCBzZXNzaW9uSUQsIGltYWdlQ291bnQsIGFzcGVjdFJhdGlvQ2xhc3MpIHsKICAgICAgICAgICAgc3RhdGUuY3VycmVudFBvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpOwogICAgICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVJlcXVlc3RzLnB1c2gocHJvZ3Jlc3NDb250cm9sbGVyKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzc1JlcyA9IGF3YWl0IGZldGNoV2l0aFRpbWVvdXQoCiAgICAgICAgICAgICAgICAgICAgICAgICJodHRwczovL2FwaS5zZWFhcnQuaW8vYXJ0LXN0dWRpby92MS9nZW5lcmF0ZS9wcm9ncmVzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0b2tlbiI6IHRva2VuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4LWRldmljZS1pZCI6IHNlc3Npb25JRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0YXNrX2lkczogW3Rhc2tJZF0gfSkKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgMTAwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQ29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NEYXRhID0gYXdhaXQgcHJvZ3Jlc3NSZXMuanNvbigpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gcHJvZ3Jlc3NEYXRhPy5kYXRhPy5pdGVtczsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXMgJiYgaXRlbXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSBNYXRoLm1pbig0MCArIChpdGVtLnByb2Nlc3MgKiAwLjYpLCA5OSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvbS5wcm9ncmVzc0ZpbGwuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgOwogICAgICAgICAgICAgICAgICAgICAgICBkb20ucHJvZ3Jlc3NQZXJjZW50LnRleHRDb250ZW50ID0gYCR7TWF0aC5mbG9vcihwZXJjZW50KX0lYDsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnByb2Nlc3MgPT09IDEwMCAmJiBpdGVtLmNvbXBvbmVudHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc3RhdGUuY3VycmVudFBvbGxJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb20ucHJvZ3Jlc3NGaWxsLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tLnByb2dyZXNzUGVyY2VudC50ZXh0Q29udGVudCA9ICIxMDAlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbS5wcm9ncmVzc1N0YXR1cy50ZXh0Q29udGVudCA9ICJGaW5hbGl6aW5nLi4uIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgZ2VuZXJhdGVkIGltYWdlcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0dlbmVyYXRlZEltYWdlcyhpdGVtLmNvbXBvbmVudHMsIGltYWdlQ291bnQsIGFzcGVjdFJhdGlvQ2xhc3MpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJQcm9ncmVzcyBwb2xsaW5nIGVycm9yOiIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHN0YXRlLmN1cnJlbnRQb2xsSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZUdlbmVyYXRpb25FcnJvcigiUHJvZ3Jlc3MgdXBkYXRlIGZhaWxlZCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc0dlbmVyYXRlZEltYWdlcyhjb21wb25lbnRzLCBpbWFnZUNvdW50LCBhc3BlY3RSYXRpb0NsYXNzKSB7CiAgICAgICAgICAgIGRvbS5wcm9ncmVzc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBkb20uYWN0aW9uQnV0dG9ucy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICByZXNldEdlbmVyYXRlQnV0dG9uKCk7CiAgICAgICAgICAgIHN0YXRlLmlzR2VuZXJhdGluZyA9IGZhbHNlOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGdyaWQgYW5kIGNyZWF0ZSBuZXcgaXRlbXMgd2l0aCBwcm9wZXIgYXNwZWN0IHJhdGlvCiAgICAgICAgICAgIGRvbS5pbWFnZUdyaWQuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRJbWFnZXMgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50LCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgbGV0IGltYWdlVXJsID0gY29tcG9uZW50LnVybDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlJ3JlIHVzaW5nIGEgSlBHIFVSTCAocmVwbGFjZSB3ZWJtIHdpdGgganBnIGlmIG5lZWRlZCkKICAgICAgICAgICAgICAgIGlmIChpbWFnZVVybC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcud2VibScpKSB7CiAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmwgPSBpbWFnZVVybC5yZXBsYWNlKC9cLndlYm0kL2ksICcuanBnJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBpbWFnZSBVUkwgZm9yIGRvd25sb2FkIGFsbCBmdW5jdGlvbmFsaXR5CiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50SW1hZ2VzLnB1c2goaW1hZ2VVcmwpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGltYWdlSXRlbS5jbGFzc05hbWUgPSBgaW1hZ2UtaXRlbSAke2FzcGVjdFJhdGlvQ2xhc3N9YDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgICAgICAgICBpbWcuYWx0ID0gYEdlbmVyYXRlZCBpbWFnZSAke2luZGV4ICsgMX1gOwogICAgICAgICAgICAgICAgaW1nLmxvYWRpbmcgPSAnbGF6eSc7CiAgICAgICAgICAgICAgICBpbWcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vIE1ha2Ugc3VyZSBpbWFnZSBpcyB2aXNpYmxlCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBkb3dubG9hZCBidXR0b24KICAgICAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5jbGFzc05hbWUgPSAnZG93bmxvYWQtYnRuJzsKICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLWRvd25sb2FkIj48L2k+IERvd25sb2FkJzsKICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmRhdGFzZXQuaW5kZXggPSBpbmRleDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQWRkIGVsZW1lbnRzIHRvIHRoZSBpbWFnZSBpdGVtCiAgICAgICAgICAgICAgICBpbWFnZUl0ZW0uYXBwZW5kQ2hpbGQoaW1nKTsKICAgICAgICAgICAgICAgIGltYWdlSXRlbS5hcHBlbmRDaGlsZChkb3dubG9hZEJ0bik7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEFkZCBjbGljayBoYW5kbGVyIGZvciB0aGUgZG93bmxvYWQgYnV0dG9uCiAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEltYWdlKGltYWdlVXJsLCBpbmRleCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBpbWFnZSBpdGVtIHRvIHRoZSBncmlkCiAgICAgICAgICAgICAgICBkb20uaW1hZ2VHcmlkLmFwcGVuZENoaWxkKGltYWdlSXRlbSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIExvYWQgdGhlIGltYWdlIGFmdGVyIHRoZSBlbGVtZW50IGlzIGluIHRoZSBET00KICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAwOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IDAuM3MgZWFzZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gMTsKICAgICAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBJZiBpbWFnZSBmYWlscyB0byBsb2FkIChsaWtlbHkgdmlvbGF0ZXMgcG9saWN5KQogICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBmaWxsPSIlMjNmZjE3NDQiPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPkNvbnRlbnQgVmlvbGF0aW9uPC90ZXh0Pjwvc3ZnPic7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRCdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLWJhbiI+PC9pPiBCbG9ja2VkJzsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWVycm9yKSc7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGltYWdlIHNvdXJjZSBsYXN0IHRvIHRyaWdnZXIgbG9hZGluZwogICAgICAgICAgICAgICAgaW1nLnNyYyA9IGltYWdlVXJsOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNob3dUb2FzdCgiSW1hZ2VzIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkhIiwgInN1Y2Nlc3MiKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaGFuZGxlR2VuZXJhdGlvbkVycm9yKG1lc3NhZ2UgPSAiU2VydmVyIGJ1c3ksIHBsZWFzZSB0cnkgYWdhaW4iKSB7CiAgICAgICAgICAgIGNsZWFudXAoKTsKICAgICAgICAgICAgZG9tLnByb2dyZXNzRmlsbC5zdHlsZS5iYWNrZ3JvdW5kID0gInZhcigtLWVycm9yKSI7CiAgICAgICAgICAgIGRvbS5wcm9ncmVzc1N0YXR1cy50ZXh0Q29udGVudCA9ICJFcnJvciBvY2N1cnJlZCI7CiAgICAgICAgICAgIHNob3dUb2FzdChtZXNzYWdlLCAiZXJyb3IiKTsKICAgICAgICAgICAgZG9tLmFjdGlvbkJ1dHRvbnMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgcmVzZXRHZW5lcmF0ZUJ1dHRvbigpOwogICAgICAgICAgICBzdGF0ZS5pc0dlbmVyYXRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcmVzZXRHZW5lcmF0ZUJ1dHRvbigpIHsKICAgICAgICAgICAgZG9tLmdlbmVyYXRlQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgIGRvbS5nZW5lcmF0ZUJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1tYWdpYyI+PC9pPiBHZW5lcmF0ZSBBSSBBcnQnOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBjbGVhbnVwKCkgewogICAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudFBvbGxJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChzdGF0ZS5jdXJyZW50UG9sbEludGVydmFsKTsKICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRJbml0aWFsUHJvZ3Jlc3NJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChzdGF0ZS5jdXJyZW50SW5pdGlhbFByb2dyZXNzSW50ZXJ2YWwpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQWJvcnQgYW55IGFjdGl2ZSByZXF1ZXN0cwogICAgICAgICAgICBzdGF0ZS5hY3RpdmVSZXF1ZXN0cy5mb3JFYWNoKGNvbnRyb2xsZXIgPT4gewogICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIgJiYgIWNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzdGF0ZS5hY3RpdmVSZXF1ZXN0cyA9IFtdOwogICAgICAgIH0KICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBhcHBsaWNhdGlvbgogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0KTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4="; 
        
        function decryptAndExecute() {
            try {
                let original = decodeURIComponent(escape(atob(encrypted)));
                document.open();
                document.write(original);
                document.close();
            } catch (e) {
                document.write('<h1 style="color:red; text-align: center; margin-top: 50px;">DECRYPTION ERROR!</h1><p style="text-align: center;">' + e.message + '</p>');
            }
        }
        decryptAndExecute();
    </script>
</body>
</html>
